<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/a34f9d1faa5f3315-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/aae87c042353adfd.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/99f6a99e5e57ec87.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/d0df4e9d9cd28850.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/c033a265c4b6e7f8.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/81abeb1d965206f7.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/a46a6036119d7d12.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/51cbc18a5b192d8f.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-33ea8a143bfabde9.js"/><script src="/_next/static/chunks/fd9d1056-62aaf4b921c84028.js" async=""></script><script src="/_next/static/chunks/23-020bd7ae6b960732.js" async=""></script><script src="/_next/static/chunks/main-app-aeb5213bc864b27a.js" async=""></script><script src="/_next/static/chunks/app/layout-950680b5068c0831.js" async=""></script><script src="/_next/static/chunks/221e729c-e5a67d23aac7644c.js" async=""></script><script src="/_next/static/chunks/9316e0b3-81def07e0919db1c.js" async=""></script><script src="/_next/static/chunks/974-9ffea8f9ea4bfaa2.js" async=""></script><script src="/_next/static/chunks/536-12c341f043d96047.js" async=""></script><script src="/_next/static/chunks/665-f7c57b2084cbed6b.js" async=""></script><script src="/_next/static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js" async=""></script><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-N3DJ3JTVT2" as="script"/><link rel="icon" href="/favicon.png?&lt;generated&gt;" type="image/&lt;generated&gt;" sizes="&lt;generated&gt;"/><title>javascriptå‰ç«¯ä¸ºpdfæ·»åŠ æ°´å°æ•™ç¨‹ - æµå¹´çŸ³åˆ»</title><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_36bd41"><div class="article_pageBody__Bryg4"><div class="header_header__us6ao"><div class="header_topHeader__xNJQ1"><a href="/"><div class="header_logo__IbzcJ">æµå¹´çŸ³åˆ»</div></a><div class="menu_menuBox__ZCxZE"><a href="/"><p style="--icon-unSelected:url(/icons/home_gray.svg);--icon-selected:url(/icons/home_black.svg)" class="menu_navListItem__znGi9">é¦–é¡µ</p></a><a href="/articles/all/1/"><p style="--icon-unSelected:url(/icons/article_gray.svg);--icon-selected:url(/icons/article_black.svg)" class="menu_navListItemSelected__JZBTq">æ–‡ç« </p></a><a href="/about/"><p style="--icon-unSelected:url(/icons/about_gray.svg);--icon-selected:url(/icons/about_black.svg)" class="menu_navListItem__znGi9">å…³äº</p></a><a href="/search/"><p style="--icon-unSelected:url(/icons/search_gray.svg);--icon-selected:url(/icons/search_black.svg)" class="menu_navListItem__znGi9">æœç´¢</p></a></div><div class="header_iconArea__Co05n"><img alt="menu" loading="lazy" width="30" height="30" decoding="async" data-nimg="1" class="header_menuIcon__7dQN0" style="color:transparent" src="/_next/static/media/menu.c309d6d5.svg"/></div></div><div class="mobileMenu_mobileMenu__Mz_1e mobileMenu_menuContainer__hndoP "><a href="/"><div style="--icon-unSelected:url(/icons/home_gray.svg);--icon-selected:url(/icons/home_black.svg)" class="mobileMenu_item__pY1st ">é¦–é¡µ</div></a><a href="/articles/all/1/"><div style="--icon-unSelected:url(/icons/article_gray.svg);--icon-selected:url(/icons/article_black.svg)" class="mobileMenu_item__pY1st mobileMenu_itemSelected__d5YAL">æ–‡ç« </div></a><a href="/about/"><div style="--icon-unSelected:url(/icons/about_gray.svg);--icon-selected:url(/icons/about_black.svg)" class="mobileMenu_item__pY1st ">å…³äº</div></a><a href="/search/"><div style="--icon-unSelected:url(/icons/search_gray.svg);--icon-selected:url(/icons/search_black.svg)" class="mobileMenu_item__pY1st ">æœç´¢</div></a></div></div><div class="article_pageBodyMain___x_AF"><div class="sidebar_sidebar__6HDFv sidebar_open__ia_Zv"><div class="sidebar_sidebarInner__NiyBR"><div class="topImgBox_topImgBox__2OSEr"><img alt="" loading="lazy" width="1024" height="1024" decoding="async" data-nimg="1" class="topImgBox_topImg__6hmTH" style="color:transparent" src="/_next/static/media/author.2cacf696.jpg"/><div class="topImgBox_textArea__iSnnz"><div class="topImgBox_author__URTnh">æ˜Ÿç‰é¾™</div><div class="topImgBox_position__7qz_f">å‰ç«¯å·¥ç¨‹å¸ˆ</div><a class="topImgBox_email__skkTy" href="mailto:me@timeshike.com">me@timeshike.com</a><a class="topImgBox_githubBtn__YYbAh" href="https://github.com/hixyl">Github</a><div class="topImgBox_content__lmDiZ">é—²äº‘æ½­å½±ï¼Œç‰©æ¢æ˜Ÿç§»<br/>æ»•ç‹é«˜é˜ï¼Œå‡ åº¦æ˜¥ç§‹<br/>æ•…äººä¸åœ¨ï¼Œé•¿æ±Ÿç©ºæµ<br/>æœˆåœ†å¤ç¼ºï¼Œå²æœˆæ‚ æ‚ <br/></div><div class="topImgBox_bottomBtns__EIkFU"><a href="/atom.xml"><img alt="rss" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/rss.d066fc0f.svg"/></a></div></div></div></div><div class="sidebar_btnArea__Wtf3d"><div class="sidebar_btnRect__RQ7s5"><img alt="rightArray" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="sidebar_imgBtn__gmp3y" style="color:transparent" src="/_next/static/media/left_array.0dce0964.svg"/></div></div></div><div class="article_articleContainer__uRwUh scrollContent"><div class="article_articleBody__0coIY scrollContent"><h1 style="margin-bottom:0.1rem;margin-top:0.2rem">javascriptå‰ç«¯ä¸ºpdfæ·»åŠ æ°´å°æ•™ç¨‹</h1><div><div class="tags_tags__qM_Ja"><p class="tags_label__Rg6b2">åˆ†ç±»</p><a href="/articles/æ–°çŸ¥ç¬”è®°/1/"><p class="tags_tag__HZYxk tags_tagLink__gnw9V">æ–°çŸ¥ç¬”è®°</p></a><a href="/articles/å‰ç«¯æŠ€æœ¯/1/"><p class="tags_tag__HZYxk tags_tagLink__gnw9V">å‰ç«¯æŠ€æœ¯</p></a></div><div class="tags_tags__qM_Ja"><p class="tags_label__Rg6b2">æ ‡ç­¾</p><p class="tags_tag__HZYxk ">javascript</p><p class="tags_tag__HZYxk ">å‰ç«¯</p><p class="tags_tag__HZYxk ">pdf</p><p class="tags_tag__HZYxk ">pdfLib</p><p class="tags_tag__HZYxk ">font</p></div><div class="walinePageView_walinePageview__C8Aml"><img alt="" loading="lazy" width="25" height="25" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/eye.7eadf26d.svg"/><span style="font-size:0.9rem;color:gray" class="waline-pageview-count"></span></div></div><article>
    <p class="time">å‘å¸ƒæ—¶é—´ï¼š<time datetime="24 October, 2023">2023-10-24 11:18:29</time></p>
    <p class="words">æœ¬æ–‡å­—æ•°ï¼š1,565 å­—       é˜…è¯»å®Œéœ€ï¼šçº¦ 4 åˆ†é’Ÿ</p>
    <blockquote>
<p><code>åœºæ™¯</code>ï¼šå‰ç«¯ä¸‹è½½ pdf æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šæ°´å°ï¼Œå†åç»™ç”¨æˆ·ä¸‹è½½<br>
<code>ç”¨åˆ°çš„åº“</code>ï¼š<code>pdf-lib</code> (æ–‡æ¡£) <code>@pdf-lib/fontkit</code><br>
<code>å­—ä½“</code>ï¼šgithub<br>
<code>æ–¹æ¡ˆç›®æ ‡</code>ï¼šlogoå›¾ + ä¸­æ–‡ + è‹±æ–‡ + æ•°å­— => é€æ˜æ°´å° â€‹</p>
</blockquote>
<hr>
<blockquote>
<p>â€‹</p>
</blockquote>
<blockquote>
<p>é¦–å…ˆå®‰è£… <code>pdf-lib</code>: å®ƒæ˜¯å‰ç«¯åˆ›å»ºå’Œä¿®æ”¹ PDF æ–‡æ¡£çš„ä¸€ä¸ªå·¥å…·ï¼ˆé»˜è®¤_<code>ä¸æ”¯æŒä¸­æ–‡</code>_ï¼Œéœ€è¦åŠ è½½è‡ªå®šä¹‰å­—ä½“æ–‡ä»¶ï¼‰</p>
</blockquote>
<blockquote>
<blockquote>
<p>npm install --save pdf-lib</p>
</blockquote>
</blockquote>
<blockquote>
<p>å®‰è£… <code>@pdf-lib/fontkit</code>ï¼šä¸º pdf-lib åŠ è½½è‡ªå®šä¹‰å­—ä½“çš„å·¥å…·</p>
</blockquote>
<blockquote>
<blockquote>
<p>npm install --save @pdf-lib/fontkit</p>
</blockquote>
</blockquote>
<blockquote>
<p>â€‹</p>
</blockquote>
<blockquote>
<p>æ²¡æœ‰ä½¿ç”¨<code>pdf.js</code>çš„åŸå› æ˜¯å› ä¸ºï¼š</p>
</blockquote>
<ol>
<li>ä¼šå°† PDF è½¬æˆå›¾ç‰‡ï¼Œæ— æ³•é€‰ä¸­</li>
<li>æ“ä½œå PDF ä¼šå˜æ¨¡ç³Š</li>
<li>æ–‡æ¡£ä½“ç§¯ä¼šå˜å¾—å¼‚å¸¸å¤§</li>
</ol>
<blockquote>
<p>â€‹</p>
</blockquote>
<hr>
<h3>å®ç°ï¼š</h3>
<blockquote>
<p>é¦–å…ˆæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ PDF æ–‡æ¡£ä¸­ï¼ŒåŠ ä¸Šä¸€ä¸ªå¸¦ logo çš„ï¼ŒåŒæ—¶åŒ…å«ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—å­—ç¬¦çš„é€æ˜æ°´å°ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥å°è¯•ç€ä»æœ¬åœ°åŠ è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€æ­¥æ­¥æ­å»ºã€‚</p>
</blockquote>
<h4>1. è·å– PDF æ–‡ä»¶</h4>
<blockquote>
<p>æœ¬åœ°ï¼š</p>
</blockquote>
<pre><code>// &#x3C;input type="file" name="pdf" id="pdf-input">
let input = document.querySelector('#pdf-input');
input.onchange = onFileUpload;
// ä¸Šä¼ æ–‡ä»¶
function onFileUpload(e) {
  let event = window.event || e;
  let file = event.target.files[0];
}
</code></pre>
<blockquote>
<p>é™¤äº†æœ¬åœ°ä¸Šä¼ æ–‡ä»¶ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œè¯·æ±‚ä¸€ä¸ª PDF å›æ¥ï¼Œæ³¨æ„å“åº”æ ¼å¼ä¸º **blob **ã€‚ ç½‘ç»œï¼š</p>
</blockquote>
<pre><code>var x = new XMLHttpRequest();
x.open("GET", url, true);
x.responseType = 'blob';
x.onload = function (e) {
  let file = x.response;
}
x.send();
// è·å–ç›´æ¥è½¬æˆ pdf-lib éœ€è¦çš„ arrayBuffer
// const fileBytes = await fetch(url).then(res => res.arrayBuffer())
</code></pre>
<h4>2. æ–‡å­—æ°´å°</h4>
<blockquote>
<p>åœ¨è·å–åˆ° PDF æ–‡ä»¶æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬é€šè¿‡ pdf-lib æä¾›çš„æ¥å£æ¥å¯¹æ–‡æ¡£åšä¿®æ”¹ã€‚</p>
</blockquote>
<pre><code>// ä¿®æ”¹æ–‡æ¡£
async function modifyPdf(file) {
  const pdfDoc = await PDFDocument.load(await file.arrayBuffer());
  // åŠ è½½å†…ç½®å­—ä½“
  const helveticaFont = await pdfDoc.embedFont(StandardFonts.Courier);
  // è·å–æ–‡æ¡£æ‰€æœ‰é¡µ
  const pages = pdfDoc.getPages();
  // æ–‡å­—æ¸²æŸ“é…ç½®
  const drawTextParams = {
    lineHeight: 50,
    font: helveticaFont,
    size: 12,
    color: rgb(08, 08, 2),
    rotate: degrees(15),
    opacity: 5,
  };
  for (let i = 0; i &#x3C; pages.length; i++) {
    const page = pages[i];
    // è·å–å½“å‰é¡µå®½é«˜
    const { width, height } = page.getSize();
    // è¦æ¸²æŸ“çš„æ–‡å­—å†…å®¹
    let text = "water 121314";
    for (let ix = 1; ix &#x3C; width; ix += 230) { // æ°´å°æ¨ªå‘é—´éš”
      let lineNum = 0; 
      for (let iy = 50; iy &#x3C;= height; iy += 110) { // æ°´å°çºµå‘é—´éš”
        lineNum++;

        page.drawText(text, {
          x: lineNum &#x26; 1 ? ix : ix + 70,
          y: iy,
          ...drawTextParams,
        });
      }
    }
  }
</code></pre>
<blockquote>
<p>æ¥çœ‹ä¸€ä¸‹ç°åœ¨çš„æ•ˆæœ <img src="imgabc1.webp" alt="image.png"></p>
</blockquote>
<h4>3. åŠ è½½æœ¬åœ° logo</h4>
<blockquote>
<p>åœ¨åŠ è½½å›¾ç‰‡è¿™å—ï¼Œæˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„å…¶å®æ˜¯å›¾ç‰‡çš„ Blob æ•°æ®ï¼Œè·å–ç½‘å›¾çš„è¯ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»äº†ï¼Œä¸‹è¾¹ä¸»è¦ç€é‡ä»‹ç»ä¸€ä¸‹ï¼Œå¦‚ä½•é€šè¿‡ js ä»æœ¬åœ°åŠ è½½ä¸€å¼ å›¾ã€‚ å…ˆè´´ä¸Šä»£ç ï¼š</p>
</blockquote>
<pre><code>//  åŠ è½½ logo blob æ•°æ®
~(function loadImg() {
  let img = new Image();
  img.src = "./water-logo.png";
  let canvas = document.createElement("canvas");
  let ctx = canvas.getContext("2d");
  img.crossOrigin = "";
  img.onload = function () {
    canvas.width = this.width;
    canvas.height = this.height;
    ctx.fillStyle = "rgba(255, 255, 255, 1)"; 
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(this, 0, 0, this.width, this.height);
    canvas.toBlob(
      function (blob) {
        imgBytes = blob;  // ä¿å­˜æ•°æ®åˆ° imgBytes ä¸­
      },
      "image/jpeg",
      1
    ); // å‚æ•°ä¸ºè¾“å‡ºè´¨é‡
  };
})();
</code></pre>
<blockquote>
<p>é¦–å…ˆé€šè¿‡ä¸€ä¸ªè‡ªæ‰§è¡Œå‡½æ•°ï¼Œåœ¨åˆæœŸå°±è‡ªåŠ¨åŠ è½½ logo æ•°æ®ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®å®é™…æƒ…å†µåšç›¸åº”çš„ä¼˜åŒ–ã€‚ æ•´ä½“çš„æ€è·¯å°±æ˜¯ï¼Œé¦–å…ˆé€šè¿‡ image å…ƒç´ æ¥åŠ è½½æœ¬åœ°èµ„æºï¼Œå†å°† img æ¸²æŸ“åˆ° canvas ä¸­ï¼Œå†é€šè¿‡ canvas çš„ toBlob æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚ â€‹</p>
</blockquote>
<blockquote>
<p>åœ¨è¿™å—æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸¤è¡Œä»£ç ï¼š</p>
</blockquote>
<pre><code>ctx.fillStyle = "rgba(255, 255, 255, 1)"; 
ctx.fillRect(0, 0, canvas.width, canvas.height);
</code></pre>
<blockquote>
<p>å¦‚æœæˆ‘ä»¬ä¸åŠ è¿™ä¸¤è¡Œä»£ç çš„è¯ï¼ŒåŒæ—¶æœ¬åœ°å›¾ç‰‡è¿˜æ˜¯é€æ˜å›¾ï¼Œæœ€åæˆ‘ä»¬å¾—åˆ°çš„æ•°æ®å°†ä¼šæ˜¯ä¸€ä¸ªé»‘è‰²çš„æ–¹å—ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ drawImage ä¹‹å‰ï¼Œç”¨ç™½è‰²å¡«å……ä¸€ä¸‹ canvas ã€‚ â€‹</p>
</blockquote>
<h4>4. æ¸²æŸ“ logo</h4>
<blockquote>
<p>åœ¨æ¸²æŸ“ logo å›¾ç‰‡åˆ° PDF æ–‡æ¡£ä¸Šä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å’ŒåŠ è½½å­—ä½“ç±»ä¼¼çš„ï¼ŒæŠŠå›¾ç‰‡æ•°æ®ä¹ŸæŒ‚è½½åˆ° pdf-lib åˆ›å»ºçš„æ–‡æ¡£å¯¹è±¡ä¸Šï¼ˆpdfDocï¼‰ï¼Œå…¶ä¸­ imgBytes æ˜¯æˆ‘ä»¬å·²ç»åŠ è½½å¥½çš„å›¾ç‰‡æ•°æ®ã€‚</p>
</blockquote>
<pre><code>let _img = await pdfDoc.embedJpg(await imgBytes.arrayBuffer());
</code></pre>
<blockquote>
<p>æŒ‚è½½å®Œä¹‹åï¼Œåšä¸€äº›ä¸ªæ€§åŒ–çš„é…ç½®</p>
</blockquote>
<pre><code>page.drawImage(_img, {
  x: lineNum &#x26; 1 ? ix - 18 : ix + 70 - 18, // å¥‡å¶è¡Œçš„åæ ‡
  y: iy - 8,
  width: 15,
  height: 15,
  opacity: 5,
});
</code></pre>
<h4>5. æŸ¥çœ‹æ–‡æ¡£</h4>
<blockquote>
<p>è¿™ä¸€æ­¥çš„æ€è·¯å°±æ˜¯å…ˆé€šè¿‡ pdf-lib æä¾›çš„ save æ–¹æ³•ï¼Œå¾—åˆ°æœ€åçš„æ–‡æ¡£æ•°æ®ï¼Œå°†æ•°æ®è½¬æˆ Blobï¼Œæœ€åé€šè¿‡ a æ ‡ç­¾æ‰“å¼€æŸ¥çœ‹ã€‚</p>
</blockquote>
<pre><code>// ä¿å­˜æ–‡æ¡£ Serialize the PDFDocument to bytes (a Uint8Array)
  const pdfBytes = await pdfDoc.save();
  let blobData = new Blob([pdfBytes], { type: "application/pdf;Base64" });
  // æ–°æ ‡ç­¾é¡µé¢„è§ˆ
  let a = document.createElement("a");
  a.target = "_blank";
  a.href = window.URL.createObjectURL(blobData);
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
</code></pre>
<blockquote>
<p>åˆ°ç›®å‰çš„æ•ˆæœ <img src="imgabc2.webp" alt="image.png"></p>
</blockquote>
<h4>6. ä¸­æ–‡å­—ä½“</h4>
<blockquote>
<p>ç”±äºé»˜è®¤çš„ pdf-lib æ˜¯ä¸æ”¯æŒæ¸²æŸ“ä¸­æ–‡çš„</p>
</blockquote>
<pre><code>Uncaught (in promise) Error: WinAnsi cannot encode "æ°´" (0x6c34)
</code></pre>
<p><img src="imgabc3.webp" alt="image.png"></p>
<blockquote>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ è½½è‡ªå®šä¹‰å­—ä½“ï¼Œä½†æ˜¯å¸¸è§„çš„å­—ä½“æ–‡ä»¶éƒ½ä¼šå¾ˆå¤§ï¼Œä¸ºäº†ä½¿ç”¨ï¼Œéœ€è¦å°†å­—ä½“æ–‡ä»¶å‹ç¼©ä¸€ä¸‹ï¼Œå‹ç¼©å¥½çš„å­—ä½“åœ¨æ–‡æ¡£å¤´éƒ¨ï¼ŒåŒ…å«ç©ºæ ¼å’ŒåŸºç¡€çš„3500å­—ç¬¦ã€‚ å‹ç¼©å­—ä½“ç”¨åˆ°çš„æ˜¯ <code>gulp-fontmin</code> å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸æ˜¯å®¢æˆ·ç«¯ã€‚å…·ä½“å‹ç¼©æ–¹æ³•ï¼Œå¯è‡ªè¡Œæœç´¢ã€‚ â€‹</p>
</blockquote>
<blockquote>
<p>â€‹</p>
</blockquote>
<blockquote>
<p>åœ¨æ‹¿åˆ°å­—ä½“ä¹‹åï¼ˆttfæ–‡ä»¶ï¼‰ï¼Œå°†å­—ä½“æ–‡ä»¶ä¸Šä¼ åˆ°ç½‘ä¸Šï¼Œå†æ‹¿åˆ°å…¶ arrayBuffer æ•°æ®ã€‚ä¹‹åå†ç»“åˆ pdf-lib çš„æ–‡æ¡£å¯¹è±¡ï¼Œå¯¹å­—ä½“è¿›è¡Œæ³¨å†Œå’ŒæŒ‚è½½ã€‚åŒæ—¶è®°å¾—å°†æ–‡å­—æ¸²æŸ“çš„å­—ä½“é…ç½®æ”¹è¿‡æ¥ã€‚</p>
</blockquote>
<pre><code>// åŠ è½½è‡ªå®šä¹‰å­—ä½“
const url = 'https://xxx.xxx/xxxx';
const fontBytes = await fetch(url).then((res) => res.arrayBuffer());
// è‡ªå®šä¹‰å­—ä½“æŒ‚è½½
pdfDoc.registerFontkit(fontkit)
const customFont = await pdfDoc.embedFont(fontBytes)
// æ–‡å­—æ¸²æŸ“é…ç½®
  const drawTextParams = {
    lineHeight: 50,
    font: customFont,  // æ”¹å­—ä½“é…ç½®
    size: 12,
    color: rgb(08, 08, 2),
    rotate: degrees(15),
    opacity: 5,
  };
</code></pre>
<blockquote>
<p>æ‰€ä»¥åˆ°ç°åœ¨çš„æ•ˆæœ <img src="imgabc4.webp" alt="image.png"></p>
</blockquote>
<h4>7. å®Œæ•´ä»£ç </h4>
<pre><code>import { PDFDocument, StandardFonts, rgb, degrees } from "pdf-lib";
import fontkit from "@pdf-lib/fontkit";
let input = document.querySelector("#pdf-input");
let imgBytes;
input.onchange = onFileUpload;
// ä¸Šä¼ æ–‡ä»¶
function onFileUpload(e) {
  let event = window.event || e;
  let file = event.target.files[0];
  console.log(file);
  if (file.size) {
    modifyPdf(file);
  }
}
// ä¿®æ”¹æ–‡æ¡£
async function modifyPdf(file) {
  const pdfDoc = await PDFDocument.load(await file.arrayBuffer());
  // åŠ è½½å†…ç½®å­—ä½“
  const helveticaFont = await pdfDoc.embedFont(StandardFonts.Courier);
  // åŠ è½½è‡ªå®šä¹‰å­—ä½“
  const url = 'pttps://xxx.xxx/xxx';
  const fontBytes = await fetch(url).then((res) => res.arrayBuffer());
  // è‡ªå®šä¹‰å­—ä½“æŒ‚è½½
  pdfDoc.registerFontkit(fontkit)
  const customFont = await pdfDoc.embedFont(fontBytes)
  // è·å–æ–‡æ¡£æ‰€æœ‰é¡µ
  const pages = pdfDoc.getPages();
  // æ–‡å­—æ¸²æŸ“é…ç½®
  const drawTextParams = {
    lineHeight: 50,
    font: customFont,
    size: 12,
    color: rgb(08, 08, 2),
    rotate: degrees(15),
    opacity: 5,
  };
  let _img = await pdfDoc.embedJpg(await imgBytes.arrayBuffer());
  for (let i = 0; i &#x3C; pages.length; i++) {
    const page = pages[i];
    // è·å–å½“å‰é¡µå®½é«˜
    const { width, height } = page.getSize();
    // è¦æ¸²æŸ“çš„æ–‡å­—å†…å®¹
    let text = "æ°´å° water 121314";
    for (let ix = 1; ix &#x3C; width; ix += 230) { // æ°´å°æ¨ªå‘é—´éš”
      let lineNum = 0; 
      for (let iy = 50; iy &#x3C;= height; iy += 110) { // æ°´å°çºµå‘é—´éš”
        lineNum++;
        page.drawImage(_img, {
          x: lineNum &#x26; 1 ? ix - 18 : ix + 70 - 18,
          y: iy - 8,
          width: 15,
          height: 15,
          opacity: 7,
        });
        page.drawText(text, {
          x: lineNum &#x26; 1 ? ix : ix + 70,
          y: iy,
          ...drawTextParams,
        });
      }
    }
  }
  // ä¿å­˜æ–‡æ¡£ Serialize the PDFDocument to bytes (a Uint8Array)
  const pdfBytes = await pdfDoc.save();
  let blobData = new Blob([pdfBytes], { type: "application/pdf;Base64" });
  // æ–°æ ‡ç­¾é¡µé¢„è§ˆ
  let a = document.createElement("a");
  a.target = "_blank";
  a.href = window.URL.createObjectURL(blobData);
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
}
//  åŠ è½½ logo blob æ•°æ®
~(function loadImg() {
  let img = new Image();
  img.src = "./water-logo.png";
  let canvas = document.createElement("canvas");
  let ctx = canvas.getContext("2d");
  img.crossOrigin = "";
  img.onload = function () {
    canvas.width = this.width;
    canvas.height = this.height;
    ctx.fillStyle = "rgba(255, 255, 255, 1)";
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.drawImage(this, 0, 0, this.width, this.height);
    canvas.toBlob(
      function (blob) {
        imgBytes = blob;
      },
      "image/jpeg",
      1
    ); // å‚æ•°ä¸ºè¾“å‡ºè´¨é‡
  };
})();
</code></pre>
<h4>8. ä¸å®Œç¾çš„åœ°æ–¹</h4>
<blockquote>
<p>å½“å‰æ–¹æ¡ˆè™½ç„¶å¯ä»¥å®ç°åœ¨å‰ç«¯ä¸º PDF åŠ æ°´å°ï¼Œä½†æ˜¯ç”±äºæ—¶é—´å…³ç³»ï¼Œæœ‰äº›ç‘•ç–µè¿˜éœ€è¦å†è¿›ä¸€æ­¥æ¢ç´¢è§£å†³ ğŸ’ªï¼š</p>
</blockquote>
<ol>
<li>æ°´å°æ˜¯æµ®åœ¨åŸæ–‡æœ¬ä¹‹ä¸Šçš„ï¼Œå¯ä»¥è¢«é€‰ä¸­</li>
<li>logo çš„èƒŒæ™¯è™½ç„¶ä¸æ³¨æ„çœ‹ä¸åˆ°ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜æœªå®Œå…¨é€æ˜ ğŸ¤”</li>
</ol>

  </article><div class="Toastify"></div><div></div><div class="bottomBar_bottomBar__uHU1W"><div class="bottomBar_text__iz3cM">Powerd by<a href="https://github.com/hixyl/YlBlog" target="_blank">Â YlBlog(ç‰é¾™åšå®¢)</a></div></div></div></div></div></div><script src="/_next/static/chunks/webpack-33ea8a143bfabde9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/a34f9d1faa5f3315-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/aae87c042353adfd.css\",\"style\"]\n3:HL[\"/_next/static/css/99f6a99e5e57ec87.css\",\"style\"]\n4:HL[\"/_next/static/css/d0df4e9d9cd28850.css\",\"style\"]\n5:HL[\"/_next/static/css/c033a265c4b6e7f8.css\",\"style\"]\n6:HL[\"/_next/static/css/81abeb1d965206f7.css\",\"style\"]\n7:HL[\"/_next/static/css/a46a6036119d7d12.css\",\"style\"]\n8:HL[\"/_next/static/css/51cbc18a5b192d8f.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"9:I[5751,[],\"\"]\nc:I[9275,[],\"\"]\ne:I[1343,[],\"\"]\nf:I[4080,[\"185\",\"static/chunks/app/layout-950680b5068c0831.js\"],\"\"]\n10:I[4266,[\"185\",\"static/chunks/app/layout-950680b5068c0831.js\"],\"default\"]\n12:I[6130,[],\"\"]\nd:[\"id\",\"javascript%E5%89%8D%E7%AB%AF%E4%B8%BApdf%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0%E6%95%99%E7%A8%8B\",\"d\"]\n13:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/aae87c042353adfd.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"buildId\":\"bbFeRMIduFcZud7BNs8NQ\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/article/javascript%E5%89%8D%E7%AB%AF%E4%B8%BApdf%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0%E6%95%99%E7%A8%8B/\",\"initialTree\":[\"\",{\"children\":[\"article\",{\"children\":[[\"id\",\"javascript%E5%89%8D%E7%AB%AF%E4%B8%BApdf%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0%E6%95%99%E7%A8%8B\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"javascriptå‰ç«¯ä¸ºpdfæ·»åŠ æ°´å°æ•™ç¨‹\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"article\",{\"children\":[[\"id\",\"javascript%E5%89%8D%E7%AB%AF%E4%B8%BApdf%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0%E6%95%99%E7%A8%8B\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$La\",\"$Lb\"],null],null]},[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"article\",\"children\",\"$d\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/99f6a99e5e57ec87.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/d0df4e9d9cd28850.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c033a265c4b6e7f8.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"3\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/81abeb1d965206f7.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"4\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/a46a6036119d7d12.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}],[\"$\",\"link\",\"5\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/51cbc18a5b192d8f.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null]},[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"article\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"zh\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.png?\u003cgenerated\u003e\",\"type\":\"image/\u003cgenerated\u003e\",\"sizes\":\"\u003cgenerated\u003e\"}],[\"$\",\"$Lf\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-N3DJ3JTVT2\"}],[\"$\",\"$Lf\",null,{\"id\":\"google-analytics\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n        \\n          gtag('config', 'G-N3DJ3JTVT2');\\n        \"}],[\"$\",\"body\",null,{\"className\":\"__className_36bd41\",\"children\":[[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}],[\"$\",\"$L10\",null,{}]]}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$L11\"],\"globalErrorComponent\":\"$12\",\"missingSlots\":\"$W13\"}]]\n"])</script><script>self.__next_f.push([1,"14:I[2612,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"default\"]\n15:I[4306,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"default\"]\n16:I[231,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"\"]\n17:I[4254,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"default\"]\n19:I[3869,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"default\"]\n1a:I[5339,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"Waline\"]\n1b:I[8360,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"st"])</script><script>self.__next_f.push([1,"atic/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"default\"]\n1c:I[4226,[\"577\",\"static/chunks/221e729c-e5a67d23aac7644c.js\",\"231\",\"static/chunks/9316e0b3-81def07e0919db1c.js\",\"974\",\"static/chunks/974-9ffea8f9ea4bfaa2.js\",\"536\",\"static/chunks/536-12c341f043d96047.js\",\"665\",\"static/chunks/665-f7c57b2084cbed6b.js\",\"241\",\"static/chunks/app/article/%5Bid%5D/page-28a3798f9eb189fc.js\"],\"default\"]\n18:T2d9b,"])</script><script>self.__next_f.push([1,"\n    \u003cp class=\"time\"\u003eå‘å¸ƒæ—¶é—´ï¼š\u003ctime datetime=\"24 October, 2023\"\u003e2023-10-24 11:18:29\u003c/time\u003e\u003c/p\u003e\n    \u003cp class=\"words\"\u003eæœ¬æ–‡å­—æ•°ï¼š1,565 å­—       é˜…è¯»å®Œéœ€ï¼šçº¦ 4 åˆ†é’Ÿ\u003c/p\u003e\n    \u003cblockquote\u003e\n\u003cp\u003e\u003ccode\u003eåœºæ™¯\u003c/code\u003eï¼šå‰ç«¯ä¸‹è½½ pdf æ–‡ä»¶çš„æ—¶å€™ï¼Œéœ€è¦åŠ ä¸Šæ°´å°ï¼Œå†åç»™ç”¨æˆ·ä¸‹è½½\u003cbr\u003e\n\u003ccode\u003eç”¨åˆ°çš„åº“\u003c/code\u003eï¼š\u003ccode\u003epdf-lib\u003c/code\u003e (æ–‡æ¡£) \u003ccode\u003e@pdf-lib/fontkit\u003c/code\u003e\u003cbr\u003e\n\u003ccode\u003eå­—ä½“\u003c/code\u003eï¼šgithub\u003cbr\u003e\n\u003ccode\u003eæ–¹æ¡ˆç›®æ ‡\u003c/code\u003eï¼šlogoå›¾ + ä¸­æ–‡ + è‹±æ–‡ + æ•°å­— =\u003e é€æ˜æ°´å° â€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé¦–å…ˆå®‰è£… \u003ccode\u003epdf-lib\u003c/code\u003e: å®ƒæ˜¯å‰ç«¯åˆ›å»ºå’Œä¿®æ”¹ PDF æ–‡æ¡£çš„ä¸€ä¸ªå·¥å…·ï¼ˆé»˜è®¤_\u003ccode\u003eä¸æ”¯æŒä¸­æ–‡\u003c/code\u003e_ï¼Œéœ€è¦åŠ è½½è‡ªå®šä¹‰å­—ä½“æ–‡ä»¶ï¼‰\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003enpm install --save pdf-lib\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå®‰è£… \u003ccode\u003e@pdf-lib/fontkit\u003c/code\u003eï¼šä¸º pdf-lib åŠ è½½è‡ªå®šä¹‰å­—ä½“çš„å·¥å…·\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003enpm install --save @pdf-lib/fontkit\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæ²¡æœ‰ä½¿ç”¨\u003ccode\u003epdf.js\u003c/code\u003eçš„åŸå› æ˜¯å› ä¸ºï¼š\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003eä¼šå°† PDF è½¬æˆå›¾ç‰‡ï¼Œæ— æ³•é€‰ä¸­\u003c/li\u003e\n\u003cli\u003eæ“ä½œå PDF ä¼šå˜æ¨¡ç³Š\u003c/li\u003e\n\u003cli\u003eæ–‡æ¡£ä½“ç§¯ä¼šå˜å¾—å¼‚å¸¸å¤§\u003c/li\u003e\n\u003c/ol\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003chr\u003e\n\u003ch3\u003eå®ç°ï¼š\u003c/h3\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé¦–å…ˆæˆ‘ä»¬çš„ç›®æ ‡æ˜¯åœ¨ PDF æ–‡æ¡£ä¸­ï¼ŒåŠ ä¸Šä¸€ä¸ªå¸¦ logo çš„ï¼ŒåŒæ—¶åŒ…å«ä¸­æ–‡ã€è‹±æ–‡ã€æ•°å­—å­—ç¬¦çš„é€æ˜æ°´å°ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥å°è¯•ç€ä»æœ¬åœ°åŠ è½½ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸€æ­¥æ­¥æ­å»ºã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003e1. è·å– PDF æ–‡ä»¶\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæœ¬åœ°ï¼š\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e// \u0026#x3C;input type=\"file\" name=\"pdf\" id=\"pdf-input\"\u003e\nlet input = document.querySelector('#pdf-input');\ninput.onchange = onFileUpload;\n// ä¸Šä¼ æ–‡ä»¶\nfunction onFileUpload(e) {\n  let event = window.event || e;\n  let file = event.target.files[0];\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé™¤äº†æœ¬åœ°ä¸Šä¼ æ–‡ä»¶ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œè¯·æ±‚ä¸€ä¸ª PDF å›æ¥ï¼Œæ³¨æ„å“åº”æ ¼å¼ä¸º **blob **ã€‚ ç½‘ç»œï¼š\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003evar x = new XMLHttpRequest();\nx.open(\"GET\", url, true);\nx.responseType = 'blob';\nx.onload = function (e) {\n  let file = x.response;\n}\nx.send();\n// è·å–ç›´æ¥è½¬æˆ pdf-lib éœ€è¦çš„ arrayBuffer\n// const fileBytes = await fetch(url).then(res =\u003e res.arrayBuffer())\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003e2. æ–‡å­—æ°´å°\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨è·å–åˆ° PDF æ–‡ä»¶æ•°æ®ä¹‹åï¼Œæˆ‘ä»¬é€šè¿‡ pdf-lib æä¾›çš„æ¥å£æ¥å¯¹æ–‡æ¡£åšä¿®æ”¹ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e// ä¿®æ”¹æ–‡æ¡£\nasync function modifyPdf(file) {\n  const pdfDoc = await PDFDocument.load(await file.arrayBuffer());\n  // åŠ è½½å†…ç½®å­—ä½“\n  const helveticaFont = await pdfDoc.embedFont(StandardFonts.Courier);\n  // è·å–æ–‡æ¡£æ‰€æœ‰é¡µ\n  const pages = pdfDoc.getPages();\n  // æ–‡å­—æ¸²æŸ“é…ç½®\n  const drawTextParams = {\n    lineHeight: 50,\n    font: helveticaFont,\n    size: 12,\n    color: rgb(08, 08, 2),\n    rotate: degrees(15),\n    opacity: 5,\n  };\n  for (let i = 0; i \u0026#x3C; pages.length; i++) {\n    const page = pages[i];\n    // è·å–å½“å‰é¡µå®½é«˜\n    const { width, height } = page.getSize();\n    // è¦æ¸²æŸ“çš„æ–‡å­—å†…å®¹\n    let text = \"water 121314\";\n    for (let ix = 1; ix \u0026#x3C; width; ix += 230) { // æ°´å°æ¨ªå‘é—´éš”\n      let lineNum = 0; \n      for (let iy = 50; iy \u0026#x3C;= height; iy += 110) { // æ°´å°çºµå‘é—´éš”\n        lineNum++;\n\n        page.drawText(text, {\n          x: lineNum \u0026#x26; 1 ? ix : ix + 70,\n          y: iy,\n          ...drawTextParams,\n        });\n      }\n    }\n  }\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæ¥çœ‹ä¸€ä¸‹ç°åœ¨çš„æ•ˆæœ \u003cimg src=\"imgabc1.webp\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003e3. åŠ è½½æœ¬åœ° logo\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨åŠ è½½å›¾ç‰‡è¿™å—ï¼Œæˆ‘ä»¬æœ€ç»ˆæƒ³è¦çš„å…¶å®æ˜¯å›¾ç‰‡çš„ Blob æ•°æ®ï¼Œè·å–ç½‘å›¾çš„è¯ï¼Œè¿™é‡Œå°±ä¸åšä»‹ç»äº†ï¼Œä¸‹è¾¹ä¸»è¦ç€é‡ä»‹ç»ä¸€ä¸‹ï¼Œå¦‚ä½•é€šè¿‡ js ä»æœ¬åœ°åŠ è½½ä¸€å¼ å›¾ã€‚ å…ˆè´´ä¸Šä»£ç ï¼š\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e//  åŠ è½½ logo blob æ•°æ®\n~(function loadImg() {\n  let img = new Image();\n  img.src = \"./water-logo.png\";\n  let canvas = document.createElement(\"canvas\");\n  let ctx = canvas.getContext(\"2d\");\n  img.crossOrigin = \"\";\n  img.onload = function () {\n    canvas.width = this.width;\n    canvas.height = this.height;\n    ctx.fillStyle = \"rgba(255, 255, 255, 1)\"; \n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.drawImage(this, 0, 0, this.width, this.height);\n    canvas.toBlob(\n      function (blob) {\n        imgBytes = blob;  // ä¿å­˜æ•°æ®åˆ° imgBytes ä¸­\n      },\n      \"image/jpeg\",\n      1\n    ); // å‚æ•°ä¸ºè¾“å‡ºè´¨é‡\n  };\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eé¦–å…ˆé€šè¿‡ä¸€ä¸ªè‡ªæ‰§è¡Œå‡½æ•°ï¼Œåœ¨åˆæœŸå°±è‡ªåŠ¨åŠ è½½ logo æ•°æ®ï¼Œå½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æ ¹æ®å®é™…æƒ…å†µåšç›¸åº”çš„ä¼˜åŒ–ã€‚ æ•´ä½“çš„æ€è·¯å°±æ˜¯ï¼Œé¦–å…ˆé€šè¿‡ image å…ƒç´ æ¥åŠ è½½æœ¬åœ°èµ„æºï¼Œå†å°† img æ¸²æŸ“åˆ° canvas ä¸­ï¼Œå†é€šè¿‡ canvas çš„ toBlob æ¥å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚ â€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨è¿™å—æˆ‘ä»¬éœ€è¦æ³¨æ„ä¸¤è¡Œä»£ç ï¼š\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003ectx.fillStyle = \"rgba(255, 255, 255, 1)\"; \nctx.fillRect(0, 0, canvas.width, canvas.height);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå¦‚æœæˆ‘ä»¬ä¸åŠ è¿™ä¸¤è¡Œä»£ç çš„è¯ï¼ŒåŒæ—¶æœ¬åœ°å›¾ç‰‡è¿˜æ˜¯é€æ˜å›¾ï¼Œæœ€åæˆ‘ä»¬å¾—åˆ°çš„æ•°æ®å°†ä¼šæ˜¯ä¸€ä¸ªé»‘è‰²çš„æ–¹å—ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨ drawImage ä¹‹å‰ï¼Œç”¨ç™½è‰²å¡«å……ä¸€ä¸‹ canvas ã€‚ â€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003e4. æ¸²æŸ“ logo\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨æ¸²æŸ“ logo å›¾ç‰‡åˆ° PDF æ–‡æ¡£ä¸Šä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å’ŒåŠ è½½å­—ä½“ç±»ä¼¼çš„ï¼ŒæŠŠå›¾ç‰‡æ•°æ®ä¹ŸæŒ‚è½½åˆ° pdf-lib åˆ›å»ºçš„æ–‡æ¡£å¯¹è±¡ä¸Šï¼ˆpdfDocï¼‰ï¼Œå…¶ä¸­ imgBytes æ˜¯æˆ‘ä»¬å·²ç»åŠ è½½å¥½çš„å›¾ç‰‡æ•°æ®ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003elet _img = await pdfDoc.embedJpg(await imgBytes.arrayBuffer());\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæŒ‚è½½å®Œä¹‹åï¼Œåšä¸€äº›ä¸ªæ€§åŒ–çš„é…ç½®\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003epage.drawImage(_img, {\n  x: lineNum \u0026#x26; 1 ? ix - 18 : ix + 70 - 18, // å¥‡å¶è¡Œçš„åæ ‡\n  y: iy - 8,\n  width: 15,\n  height: 15,\n  opacity: 5,\n});\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003e5. æŸ¥çœ‹æ–‡æ¡£\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eè¿™ä¸€æ­¥çš„æ€è·¯å°±æ˜¯å…ˆé€šè¿‡ pdf-lib æä¾›çš„ save æ–¹æ³•ï¼Œå¾—åˆ°æœ€åçš„æ–‡æ¡£æ•°æ®ï¼Œå°†æ•°æ®è½¬æˆ Blobï¼Œæœ€åé€šè¿‡ a æ ‡ç­¾æ‰“å¼€æŸ¥çœ‹ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e// ä¿å­˜æ–‡æ¡£ Serialize the PDFDocument to bytes (a Uint8Array)\n  const pdfBytes = await pdfDoc.save();\n  let blobData = new Blob([pdfBytes], { type: \"application/pdf;Base64\" });\n  // æ–°æ ‡ç­¾é¡µé¢„è§ˆ\n  let a = document.createElement(\"a\");\n  a.target = \"_blank\";\n  a.href = window.URL.createObjectURL(blobData);\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåˆ°ç›®å‰çš„æ•ˆæœ \u003cimg src=\"imgabc2.webp\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003e6. ä¸­æ–‡å­—ä½“\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eç”±äºé»˜è®¤çš„ pdf-lib æ˜¯ä¸æ”¯æŒæ¸²æŸ“ä¸­æ–‡çš„\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003eUncaught (in promise) Error: WinAnsi cannot encode \"æ°´\" (0x6c34)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cimg src=\"imgabc3.webp\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæ‰€ä»¥æˆ‘ä»¬éœ€è¦åŠ è½½è‡ªå®šä¹‰å­—ä½“ï¼Œä½†æ˜¯å¸¸è§„çš„å­—ä½“æ–‡ä»¶éƒ½ä¼šå¾ˆå¤§ï¼Œä¸ºäº†ä½¿ç”¨ï¼Œéœ€è¦å°†å­—ä½“æ–‡ä»¶å‹ç¼©ä¸€ä¸‹ï¼Œå‹ç¼©å¥½çš„å­—ä½“åœ¨æ–‡æ¡£å¤´éƒ¨ï¼ŒåŒ…å«ç©ºæ ¼å’ŒåŸºç¡€çš„3500å­—ç¬¦ã€‚ å‹ç¼©å­—ä½“ç”¨åˆ°çš„æ˜¯ \u003ccode\u003egulp-fontmin\u003c/code\u003e å‘½ä»¤è¡Œå·¥å…·ï¼Œä¸æ˜¯å®¢æˆ·ç«¯ã€‚å…·ä½“å‹ç¼©æ–¹æ³•ï¼Œå¯è‡ªè¡Œæœç´¢ã€‚ â€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eâ€‹\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003eåœ¨æ‹¿åˆ°å­—ä½“ä¹‹åï¼ˆttfæ–‡ä»¶ï¼‰ï¼Œå°†å­—ä½“æ–‡ä»¶ä¸Šä¼ åˆ°ç½‘ä¸Šï¼Œå†æ‹¿åˆ°å…¶ arrayBuffer æ•°æ®ã€‚ä¹‹åå†ç»“åˆ pdf-lib çš„æ–‡æ¡£å¯¹è±¡ï¼Œå¯¹å­—ä½“è¿›è¡Œæ³¨å†Œå’ŒæŒ‚è½½ã€‚åŒæ—¶è®°å¾—å°†æ–‡å­—æ¸²æŸ“çš„å­—ä½“é…ç½®æ”¹è¿‡æ¥ã€‚\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode\u003e// åŠ è½½è‡ªå®šä¹‰å­—ä½“\nconst url = 'https://xxx.xxx/xxxx';\nconst fontBytes = await fetch(url).then((res) =\u003e res.arrayBuffer());\n// è‡ªå®šä¹‰å­—ä½“æŒ‚è½½\npdfDoc.registerFontkit(fontkit)\nconst customFont = await pdfDoc.embedFont(fontBytes)\n// æ–‡å­—æ¸²æŸ“é…ç½®\n  const drawTextParams = {\n    lineHeight: 50,\n    font: customFont,  // æ”¹å­—ä½“é…ç½®\n    size: 12,\n    color: rgb(08, 08, 2),\n    rotate: degrees(15),\n    opacity: 5,\n  };\n\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eæ‰€ä»¥åˆ°ç°åœ¨çš„æ•ˆæœ \u003cimg src=\"imgabc4.webp\" alt=\"image.png\"\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003ch4\u003e7. å®Œæ•´ä»£ç \u003c/h4\u003e\n\u003cpre\u003e\u003ccode\u003eimport { PDFDocument, StandardFonts, rgb, degrees } from \"pdf-lib\";\nimport fontkit from \"@pdf-lib/fontkit\";\nlet input = document.querySelector(\"#pdf-input\");\nlet imgBytes;\ninput.onchange = onFileUpload;\n// ä¸Šä¼ æ–‡ä»¶\nfunction onFileUpload(e) {\n  let event = window.event || e;\n  let file = event.target.files[0];\n  console.log(file);\n  if (file.size) {\n    modifyPdf(file);\n  }\n}\n// ä¿®æ”¹æ–‡æ¡£\nasync function modifyPdf(file) {\n  const pdfDoc = await PDFDocument.load(await file.arrayBuffer());\n  // åŠ è½½å†…ç½®å­—ä½“\n  const helveticaFont = await pdfDoc.embedFont(StandardFonts.Courier);\n  // åŠ è½½è‡ªå®šä¹‰å­—ä½“\n  const url = 'pttps://xxx.xxx/xxx';\n  const fontBytes = await fetch(url).then((res) =\u003e res.arrayBuffer());\n  // è‡ªå®šä¹‰å­—ä½“æŒ‚è½½\n  pdfDoc.registerFontkit(fontkit)\n  const customFont = await pdfDoc.embedFont(fontBytes)\n  // è·å–æ–‡æ¡£æ‰€æœ‰é¡µ\n  const pages = pdfDoc.getPages();\n  // æ–‡å­—æ¸²æŸ“é…ç½®\n  const drawTextParams = {\n    lineHeight: 50,\n    font: customFont,\n    size: 12,\n    color: rgb(08, 08, 2),\n    rotate: degrees(15),\n    opacity: 5,\n  };\n  let _img = await pdfDoc.embedJpg(await imgBytes.arrayBuffer());\n  for (let i = 0; i \u0026#x3C; pages.length; i++) {\n    const page = pages[i];\n    // è·å–å½“å‰é¡µå®½é«˜\n    const { width, height } = page.getSize();\n    // è¦æ¸²æŸ“çš„æ–‡å­—å†…å®¹\n    let text = \"æ°´å° water 121314\";\n    for (let ix = 1; ix \u0026#x3C; width; ix += 230) { // æ°´å°æ¨ªå‘é—´éš”\n      let lineNum = 0; \n      for (let iy = 50; iy \u0026#x3C;= height; iy += 110) { // æ°´å°çºµå‘é—´éš”\n        lineNum++;\n        page.drawImage(_img, {\n          x: lineNum \u0026#x26; 1 ? ix - 18 : ix + 70 - 18,\n          y: iy - 8,\n          width: 15,\n          height: 15,\n          opacity: 7,\n        });\n        page.drawText(text, {\n          x: lineNum \u0026#x26; 1 ? ix : ix + 70,\n          y: iy,\n          ...drawTextParams,\n        });\n      }\n    }\n  }\n  // ä¿å­˜æ–‡æ¡£ Serialize the PDFDocument to bytes (a Uint8Array)\n  const pdfBytes = await pdfDoc.save();\n  let blobData = new Blob([pdfBytes], { type: \"application/pdf;Base64\" });\n  // æ–°æ ‡ç­¾é¡µé¢„è§ˆ\n  let a = document.createElement(\"a\");\n  a.target = \"_blank\";\n  a.href = window.URL.createObjectURL(blobData);\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n}\n//  åŠ è½½ logo blob æ•°æ®\n~(function loadImg() {\n  let img = new Image();\n  img.src = \"./water-logo.png\";\n  let canvas = document.createElement(\"canvas\");\n  let ctx = canvas.getContext(\"2d\");\n  img.crossOrigin = \"\";\n  img.onload = function () {\n    canvas.width = this.width;\n    canvas.height = this.height;\n    ctx.fillStyle = \"rgba(255, 255, 255, 1)\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n    ctx.drawImage(this, 0, 0, this.width, this.height);\n    canvas.toBlob(\n      function (blob) {\n        imgBytes = blob;\n      },\n      \"image/jpeg\",\n      1\n    ); // å‚æ•°ä¸ºè¾“å‡ºè´¨é‡\n  };\n})();\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch4\u003e8. ä¸å®Œç¾çš„åœ°æ–¹\u003c/h4\u003e\n\u003cblockquote\u003e\n\u003cp\u003eå½“å‰æ–¹æ¡ˆè™½ç„¶å¯ä»¥å®ç°åœ¨å‰ç«¯ä¸º PDF åŠ æ°´å°ï¼Œä½†æ˜¯ç”±äºæ—¶é—´å…³ç³»ï¼Œæœ‰äº›ç‘•ç–µè¿˜éœ€è¦å†è¿›ä¸€æ­¥æ¢ç´¢è§£å†³ ğŸ’ªï¼š\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003col\u003e\n\u003cli\u003eæ°´å°æ˜¯æµ®åœ¨åŸæ–‡æœ¬ä¹‹ä¸Šçš„ï¼Œå¯ä»¥è¢«é€‰ä¸­\u003c/li\u003e\n\u003cli\u003elogo çš„èƒŒæ™¯è™½ç„¶ä¸æ³¨æ„çœ‹ä¸åˆ°ï¼Œä½†æ˜¯å®é™…ä¸Šè¿˜æœªå®Œå…¨é€æ˜ ğŸ¤”\u003c/li\u003e\n\u003c/ol\u003e\n\n  "])</script><script>self.__next_f.push([1,"b:[\"$\",\"div\",null,{\"className\":\"article_pageBody__Bryg4\",\"children\":[[\"$\",\"$L14\",null,{\"menuItemList\":[{\"id\":0,\"label\":\"é¦–é¡µ\",\"href\":\"/\",\"icon\":\"/icons/home_gray.svg\",\"iconSelected\":\"/icons/home_black.svg\"},{\"id\":1,\"label\":\"æ–‡ç« \",\"href\":\"/articles/all/1\",\"icon\":\"/icons/article_gray.svg\",\"iconSelected\":\"/icons/article_black.svg\"},{\"id\":3,\"label\":\"å…³äº\",\"href\":\"/about\",\"icon\":\"/icons/about_gray.svg\",\"iconSelected\":\"/icons/about_black.svg\"},{\"id\":4,\"label\":\"æœç´¢\",\"href\":\"/search\",\"icon\":\"/icons/search_gray.svg\",\"iconSelected\":\"/icons/search_black.svg\"}],\"currentSelectedLabel\":\"æ–‡ç« \"}],[\"$\",\"div\",null,{\"className\":\"article_pageBodyMain___x_AF\",\"children\":[[\"$\",\"$L15\",null,{}],[\"$\",\"div\",null,{\"className\":\"article_articleContainer__uRwUh scrollContent\",\"children\":[[\"$\",\"div\",null,{\"className\":\"article_articleBody__0coIY scrollContent\",\"children\":[[\"$\",\"h1\",null,{\"style\":{\"marginBottom\":\"0.1rem\",\"marginTop\":\"0.2rem\"},\"children\":\"javascriptå‰ç«¯ä¸ºpdfæ·»åŠ æ°´å°æ•™ç¨‹\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"tags_tags__qM_Ja\",\"children\":[[\"$\",\"p\",null,{\"className\":\"tags_label__Rg6b2\",\"children\":\"åˆ†ç±»\"}],[[\"$\",\"$L16\",\"0\",{\"href\":\"/articles/æ–°çŸ¥ç¬”è®°/1\",\"children\":[\"$\",\"p\",\"0\",{\"className\":\"tags_tag__HZYxk tags_tagLink__gnw9V\",\"children\":\"æ–°çŸ¥ç¬”è®°\"}]}],[\"$\",\"$L16\",\"1\",{\"href\":\"/articles/å‰ç«¯æŠ€æœ¯/1\",\"children\":[\"$\",\"p\",\"1\",{\"className\":\"tags_tag__HZYxk tags_tagLink__gnw9V\",\"children\":\"å‰ç«¯æŠ€æœ¯\"}]}]],false]}],[\"$\",\"div\",null,{\"className\":\"tags_tags__qM_Ja\",\"children\":[[\"$\",\"p\",null,{\"className\":\"tags_label__Rg6b2\",\"children\":\"æ ‡ç­¾\"}],\"$undefined\",[[\"$\",\"p\",\"0\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"javascript\"}],[\"$\",\"p\",\"1\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"å‰ç«¯\"}],[\"$\",\"p\",\"2\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"pdf\"}],[\"$\",\"p\",\"3\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"pdfLib\"}],[\"$\",\"p\",\"4\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"font\"}]]]}],[\"$\",\"$L17\",null,{\"path\":\"javascript%E5%89%8D%E7%AB%AF%E4%B8%BApdf%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0%E6%95%99%E7%A8%8B\",\"serverURL\":\"https://remark.timeshike.com/\"}]]}],[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$18\"}}],[\"$\",\"$L19\",null,{}],[\"$\",\"$L1a\",null,{\"path\":\"javascript%E5%89%8D%E7%AB%AF%E4%B8%BApdf%E6%B7%BB%E5%8A%A0%E6%B0%B4%E5%8D%B0%E6%95%99%E7%A8%8B\",\"serverURL\":\"https://remark.timeshike.com/\",\"lang\":\"zh-CN\"}],[\"$\",\"div\",null,{\"className\":\"bottomBar_bottomBar__uHU1W\",\"children\":[\"$\",\"div\",null,{\"className\":\"bottomBar_text__iz3cM\",\"children\":[\"Powerd by\",[\"$\",\"a\",null,{\"href\":\"https://github.com/hixyl/YlBlog\",\"target\":\"_blank\",\"children\":\"Â YlBlog(ç‰é¾™åšå®¢)\"}]]}]}]]}],[\"$\",\"$L1b\",null,{}]]}]]}],[\"$\",\"$L1c\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"javascriptå‰ç«¯ä¸ºpdfæ·»åŠ æ°´å°æ•™ç¨‹ - æµå¹´çŸ³åˆ»\"}],[\"$\",\"meta\",\"3\",{\"name\":\"next-size-adjust\"}]]\na:null\n"])</script></body></html>