<!DOCTYPE html><html lang="zh"><head><meta charSet="utf-8"/><link rel="preload" as="font" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/c6771dd8c665257b.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/b4d4f9fffc1492fd.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/99f6a99e5e57ec87.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-9a49a66100e46c59.js" as="script"/><link rel="preload" href="/_next/static/chunks/fd9d1056-2a48348db6e9e5e0.js" as="script"/><link rel="preload" href="/_next/static/chunks/596-38dca328e8a8de9d.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-app-d4767c0c82b0abc6.js" as="script"/><link rel="preload" as="script" href="https://www.googletagmanager.com/gtag/js?id=G-N3DJ3JTVT2"/><link rel="icon" href="/favicon.png?&lt;generated&gt;" type="image/&lt;generated&gt;" sizes="&lt;generated&gt;"/><title>Vue使用axios下载文件的方法 - 流年石刻</title><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_e66fe9"><div class="article_pageBody__Bryg4"><div class="header_header__us6ao"><div class="header_topHeader__xNJQ1"><a href="/"><div class="header_logo__IbzcJ">流年石刻</div></a><div class="menu_menuBox__ZCxZE"><a href="/"><p style="--icon-unSelected:url(/icons/home_gray.svg);--icon-selected:url(/icons/home_black.svg)" class="menu_navListItem__znGi9">首页</p></a><a href="/articles/all/1/"><p style="--icon-unSelected:url(/icons/article_gray.svg);--icon-selected:url(/icons/article_black.svg)" class="menu_navListItemSelected__JZBTq">文章</p></a><a href="/about/"><p style="--icon-unSelected:url(/icons/about_gray.svg);--icon-selected:url(/icons/about_black.svg)" class="menu_navListItem__znGi9">关于</p></a><a href="/search/"><p style="--icon-unSelected:url(/icons/search_gray.svg);--icon-selected:url(/icons/search_black.svg)" class="menu_navListItem__znGi9">搜索</p></a></div><div class="header_iconArea__Co05n"><img alt="menu" loading="lazy" width="30" height="30" decoding="async" data-nimg="1" class="header_menuIcon__7dQN0" style="color:transparent" src="/_next/static/media/menu.c309d6d5.svg"/></div></div><div class="mobileMenu_mobileMenu__Mz_1e mobileMenu_menuContainer__hndoP "><a href="/"><div style="--icon-unSelected:url(/icons/home_gray.svg);--icon-selected:url(/icons/home_black.svg)" class="mobileMenu_item__pY1st ">首页</div></a><a href="/articles/all/1/"><div style="--icon-unSelected:url(/icons/article_gray.svg);--icon-selected:url(/icons/article_black.svg)" class="mobileMenu_item__pY1st mobileMenu_itemSelected__d5YAL">文章</div></a><a href="/about/"><div style="--icon-unSelected:url(/icons/about_gray.svg);--icon-selected:url(/icons/about_black.svg)" class="mobileMenu_item__pY1st ">关于</div></a><a href="/search/"><div style="--icon-unSelected:url(/icons/search_gray.svg);--icon-selected:url(/icons/search_black.svg)" class="mobileMenu_item__pY1st ">搜索</div></a></div></div><div class="article_pageBodyMain___x_AF"><div class="sidebar_sidebar__6HDFv sidebar_open__ia_Zv"><div class="sidebar_sidebarInner__NiyBR"><div class="topImgBox_topImgBox__2OSEr"><img alt="" loading="lazy" width="1024" height="1024" decoding="async" data-nimg="1" class="topImgBox_topImg__6hmTH" style="color:transparent" src="/_next/static/media/author.2cacf696.jpg"/><div class="topImgBox_textArea__iSnnz"><div class="topImgBox_author__URTnh">星玉龙</div><div class="topImgBox_position__7qz_f">前端工程师</div><a class="topImgBox_email__skkTy" href="mailto:me@timeshike.com">me@timeshike.com</a><a class="topImgBox_githubBtn__YYbAh" href="https://github.com/hixyl">Github</a><div class="topImgBox_content__lmDiZ">闲云潭影，物换星移<br/>滕王高阁，几度春秋<br/>故人不在，长江空流<br/>月圆复缺，岁月悠悠<br/></div><div class="topImgBox_bottomBtns__EIkFU"><a href="/atom.xml"><img alt="rss" loading="lazy" width="20" height="20" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/rss.d066fc0f.svg"/></a></div></div></div></div><div class="sidebar_btnArea__Wtf3d"><div class="sidebar_btnRect__RQ7s5"><img alt="rightArray" loading="lazy" width="200" height="200" decoding="async" data-nimg="1" class="sidebar_imgBtn__gmp3y" style="color:transparent" src="/_next/static/media/left_array.0dce0964.svg"/></div></div></div><div class="article_articleContainer__uRwUh scrollContent"><div class="article_articleBody__0coIY scrollContent"><h1 style="margin-bottom:0.1rem;margin-top:0.2rem">Vue使用axios下载文件的方法</h1><div><div class="tags_tags__qM_Ja"><p class="tags_label__Rg6b2">分类</p><a href="/articles/新知笔记/1/"><p class="tags_tag__HZYxk tags_tagLink__gnw9V">新知笔记</p></a><a href="/articles/前端学习/1/"><p class="tags_tag__HZYxk tags_tagLink__gnw9V">前端学习</p></a></div><div class="tags_tags__qM_Ja"><p class="tags_label__Rg6b2">标签</p><p class="tags_tag__HZYxk ">vue</p><p class="tags_tag__HZYxk ">前端</p><p class="tags_tag__HZYxk ">html</p><p class="tags_tag__HZYxk ">css</p><p class="tags_tag__HZYxk ">javascript</p></div><div class="walinePageView_walinePageview__C8Aml"><img alt="" loading="lazy" width="25" height="25" decoding="async" data-nimg="1" style="color:transparent" src="/_next/static/media/eye.7eadf26d.svg"/><span style="font-size:0.9rem;color:gray" class="waline-pageview-count"></span></div></div><article>
    <p class="time">发布时间：<time datetime="15 September, 2022">2022-09-15 21:00:57</time></p>
    <p class="words">本文字数：152 字       阅读完需：约 1 分钟</p>
    <html><head></head><body><p>axios 请求头部加上responseType='blob'</p>
<pre><code class="language-javascript">export <span class="hljs-keyword">const</span> download = (<span class="hljs-keyword">data</span>) =&gt; {
  <span class="hljs-keyword">return</span> request({
    url:<span class="hljs-string">'请求地址'</span>,
    method: <span class="hljs-string">'post'</span>,
    responseType:<span class="hljs-string">'blob'</span>,
    <span class="hljs-keyword">data</span>: <span class="hljs-keyword">data</span>
  })
}
</code></pre>
<p>后端代码响应头部需要设置Access-Control-Expose-Headers头部信息，把你需要获取的头部属性字段设置在这个值里面前端响应部分就可以获取，否则不可无法获取（多个用逗号分割），如下设置前端可以获取文件名字</p>
<pre><code class="language-java">response.set<span class="hljs-constructor">Header(<span class="hljs-string">"Content-Disposition"</span>, <span class="hljs-string">"attachment;filename="</span> + URLEncoder.<span class="hljs-params">encode</span>(<span class="hljs-params">message</span>, <span class="hljs-string">"UTF-8"</span>)</span>);
response.set<span class="hljs-constructor">ContentType(<span class="hljs-string">"application/octet-stream"</span>)</span>;
response.set<span class="hljs-constructor">Header(<span class="hljs-string">"Access-Control-Expose-Headers"</span>, <span class="hljs-string">"Content-Disposition"</span>)</span>;
</code></pre>
<p>前端js处理响应部分进行blob字节处理下载文件</p>
<pre><code class="language-javascript">const filename = res.headers<span class="hljs-literal">["<span class="hljs-identifier">content</span>-<span class="hljs-identifier">disposition</span>"]</span>;
const blob = <span class="hljs-keyword">new</span> <span class="hljs-constructor">Blob([<span class="hljs-params">res</span>.<span class="hljs-params">data</span>])</span>;
var downloadElement = document.create<span class="hljs-constructor">Element(<span class="hljs-string">"a"</span>)</span>;
var href = window.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">URL</span>.</span></span>create<span class="hljs-constructor">ObjectURL(<span class="hljs-params">blob</span>)</span>;
downloadElement.href = href;
downloadElement.download = decode<span class="hljs-constructor">URIComponent(<span class="hljs-params">filename</span>.<span class="hljs-params">split</span>(<span class="hljs-string">"filename="</span>)</span><span class="hljs-literal">[<span class="hljs-number">1</span>]</span>);
document.body.append<span class="hljs-constructor">Child(<span class="hljs-params">downloadElement</span>)</span>;
downloadElement.click<span class="hljs-literal">()</span>;
document.body.remove<span class="hljs-constructor">Child(<span class="hljs-params">downloadElement</span>)</span>;
window.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">URL</span>.</span></span>revoke<span class="hljs-constructor">ObjectURL(<span class="hljs-params">href</span>)</span>;   
</code></pre>
</body></html>
  </article><div class="Toastify"></div><div></div><div class="bottomBar_bottomBar__uHU1W"><div class="bottomBar_text__iz3cM">Powerd by<a href="https://github.com/hixyl/YlBlog" target="_blank"> YlBlog(玉龙博客)</a></div></div></div></div></div></div><script src="/_next/static/chunks/webpack-9a49a66100e46c59.js" async=""></script><script src="/_next/static/chunks/fd9d1056-2a48348db6e9e5e0.js" async=""></script><script src="/_next/static/chunks/596-38dca328e8a8de9d.js" async=""></script><script src="/_next/static/chunks/main-app-d4767c0c82b0abc6.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/c6771dd8c665257b.css\",{\"as\":\"style\"}]\n0:\"$L3\"\n"])</script><script>self.__next_f.push([1,"4:HL[\"/_next/static/css/b4d4f9fffc1492fd.css\",{\"as\":\"style\"}]\n5:HL[\"/_next/static/css/99f6a99e5e57ec87.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"6:I{\"id\":7948,\"chunks\":[\"272:static/chunks/webpack-9a49a66100e46c59.js\",\"971:static/chunks/fd9d1056-2a48348db6e9e5e0.js\",\"596:static/chunks/596-38dca328e8a8de9d.js\"],\"name\":\"default\",\"async\":false}\n8:I{\"id\":6628,\"chunks\":[\"272:static/chunks/webpack-9a49a66100e46c59.js\",\"971:static/chunks/fd9d1056-2a48348db6e9e5e0.js\",\"596:static/chunks/596-38dca328e8a8de9d.js\"],\"name\":\"GlobalError\",\"async\":false}\n9:I{\"id\":3015,\"chunks\":[\"185:static/chunks/app/layout-1c7fcb8e096f7f78.js\"],\"name\":\"\",\"async\":false}\na:I{\"id\":77"])</script><script>self.__next_f.push([1,"67,\"chunks\":[\"272:static/chunks/webpack-9a49a66100e46c59.js\",\"971:static/chunks/fd9d1056-2a48348db6e9e5e0.js\",\"596:static/chunks/596-38dca328e8a8de9d.js\"],\"name\":\"default\",\"async\":false}\nb:I{\"id\":7920,\"chunks\":[\"272:static/chunks/webpack-9a49a66100e46c59.js\",\"971:static/chunks/fd9d1056-2a48348db6e9e5e0.js\",\"596:static/chunks/596-38dca328e8a8de9d.js\"],\"name\":\"default\",\"async\":false}\nd:I{\"id\":5345,\"chunks\":[\"185:static/chunks/app/layout-1c7fcb8e096f7f78.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"3:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/c6771dd8c665257b.css\",\"precedence\":\"next\"}]],[\"$\",\"$L6\",null,{\"buildId\":\"7rLqxkEwvhWujqEQeKbCo\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/article/Vue%E4%BD%BF%E7%94%A8axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95/\",\"initialTree\":[\"\",{\"children\":[\"article\",{\"children\":[[\"id\",\"Vue%E4%BD%BF%E7%94%A8axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95\",\"d\"],{\"children\":[\"__PAGE__?{\\\"id\\\":\\\"Vue使用axios下载文件的方法\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":\"$L7\",\"globalErrorComponent\":\"$8\",\"children\":[[\"$\",\"html\",null,{\"lang\":\"zh\",\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/favicon.png?\u003cgenerated\u003e\",\"type\":\"image/\u003cgenerated\u003e\",\"sizes\":\"\u003cgenerated\u003e\"}],[\"$\",\"$L9\",null,{\"src\":\"https://www.googletagmanager.com/gtag/js?id=G-N3DJ3JTVT2\"}],[\"$\",\"$L9\",null,{\"id\":\"google-analytics\",\"children\":\"\\n          window.dataLayer = window.dataLayer || [];\\n          function gtag(){dataLayer.push(arguments);}\\n          gtag('js', new Date());\\n        \\n          gtag('config', 'G-N3DJ3JTVT2');\\n        \"}],[\"$\",\"body\",null,{\"className\":\"__className_e66fe9\",\"children\":[[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"article\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$\",\"$La\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"article\",\"children\",[\"id\",\"Vue%E4%BD%BF%E7%94%A8axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95\",\"d\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lb\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[\"$Lc\",null],\"segment\":\"__PAGE__?{\\\"id\\\":\\\"Vue使用axios下载文件的方法\\\"}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/b4d4f9fffc1492fd.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/99f6a99e5e57ec87.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"id\",\"Vue%E4%BD%BF%E7%94%A8axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95\",\"d\"]},\"styles\":[]}],\"segment\":\"article\"},\"styles\":[]}],[\"$\",\"$Ld\",null,{}]]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"e:I{\"id\":4733,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":6697,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\",\"681"])</script><script>self.__next_f.push([1,":static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":false}\n10:I{\"id\":6685,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":fals"])</script><script>self.__next_f.push([1,"e}\n11:I{\"id\":9777,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":false}\n13:I{\"id\":5529,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\""])</script><script>self.__next_f.push([1,",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":false}\n14:I{\"id\":1848,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"Waline\",\""])</script><script>self.__next_f.push([1,"async\":false}\n15:I{\"id\":2953,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e9188a0.js\",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":false}\n16:I{\"id\":633,\"chunks\":[\"577:static/chunks/221e729c-5d725420b9f8c1af.js\",\"231:static/chunks/9316e0b3-01127c4abe77ae6c.js\",\"165:static/chunks/165-9f67d2f80e"])</script><script>self.__next_f.push([1,"9188a0.js\",\"681:static/chunks/681-87283166367a5537.js\",\"945:static/chunks/945-dd57d3732d1beca5.js\",\"241:static/chunks/app/article/[id]/page-c217b84edbde72da.js\"],\"name\":\"\",\"async\":false}\n12:Tcf5,"])</script><script>self.__next_f.push([1,"\n    \u003cp class=\"time\"\u003e发布时间：\u003ctime datetime=\"15 September, 2022\"\u003e2022-09-15 21:00:57\u003c/time\u003e\u003c/p\u003e\n    \u003cp class=\"words\"\u003e本文字数：152 字       阅读完需：约 1 分钟\u003c/p\u003e\n    \u003chtml\u003e\u003chead\u003e\u003c/head\u003e\u003cbody\u003e\u003cp\u003eaxios 请求头部加上responseType='blob'\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003eexport \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e download = (\u003cspan class=\"hljs-keyword\"\u003edata\u003c/span\u003e) =\u0026gt; {\n  \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e request({\n    url:\u003cspan class=\"hljs-string\"\u003e'请求地址'\u003c/span\u003e,\n    method: \u003cspan class=\"hljs-string\"\u003e'post'\u003c/span\u003e,\n    responseType:\u003cspan class=\"hljs-string\"\u003e'blob'\u003c/span\u003e,\n    \u003cspan class=\"hljs-keyword\"\u003edata\u003c/span\u003e: \u003cspan class=\"hljs-keyword\"\u003edata\u003c/span\u003e\n  })\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e后端代码响应头部需要设置Access-Control-Expose-Headers头部信息，把你需要获取的头部属性字段设置在这个值里面前端响应部分就可以获取，否则不可无法获取（多个用逗号分割），如下设置前端可以获取文件名字\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-java\"\u003eresponse.set\u003cspan class=\"hljs-constructor\"\u003eHeader(\u003cspan class=\"hljs-string\"\u003e\"Content-Disposition\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"attachment;filename=\"\u003c/span\u003e + URLEncoder.\u003cspan class=\"hljs-params\"\u003eencode\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003emessage\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"UTF-8\"\u003c/span\u003e)\u003c/span\u003e);\nresponse.set\u003cspan class=\"hljs-constructor\"\u003eContentType(\u003cspan class=\"hljs-string\"\u003e\"application/octet-stream\"\u003c/span\u003e)\u003c/span\u003e;\nresponse.set\u003cspan class=\"hljs-constructor\"\u003eHeader(\u003cspan class=\"hljs-string\"\u003e\"Access-Control-Expose-Headers\"\u003c/span\u003e, \u003cspan class=\"hljs-string\"\u003e\"Content-Disposition\"\u003c/span\u003e)\u003c/span\u003e;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e前端js处理响应部分进行blob字节处理下载文件\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-javascript\"\u003econst filename = res.headers\u003cspan class=\"hljs-literal\"\u003e[\"\u003cspan class=\"hljs-identifier\"\u003econtent\u003c/span\u003e-\u003cspan class=\"hljs-identifier\"\u003edisposition\u003c/span\u003e\"]\u003c/span\u003e;\nconst blob = \u003cspan class=\"hljs-keyword\"\u003enew\u003c/span\u003e \u003cspan class=\"hljs-constructor\"\u003eBlob([\u003cspan class=\"hljs-params\"\u003eres\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003edata\u003c/span\u003e])\u003c/span\u003e;\nvar downloadElement = document.create\u003cspan class=\"hljs-constructor\"\u003eElement(\u003cspan class=\"hljs-string\"\u003e\"a\"\u003c/span\u003e)\u003c/span\u003e;\nvar href = window.\u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eURL\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003ecreate\u003cspan class=\"hljs-constructor\"\u003eObjectURL(\u003cspan class=\"hljs-params\"\u003eblob\u003c/span\u003e)\u003c/span\u003e;\ndownloadElement.href = href;\ndownloadElement.download = decode\u003cspan class=\"hljs-constructor\"\u003eURIComponent(\u003cspan class=\"hljs-params\"\u003efilename\u003c/span\u003e.\u003cspan class=\"hljs-params\"\u003esplit\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\"filename=\"\u003c/span\u003e)\u003c/span\u003e\u003cspan class=\"hljs-literal\"\u003e[\u003cspan class=\"hljs-number\"\u003e1\u003c/span\u003e]\u003c/span\u003e);\ndocument.body.append\u003cspan class=\"hljs-constructor\"\u003eChild(\u003cspan class=\"hljs-params\"\u003edownloadElement\u003c/span\u003e)\u003c/span\u003e;\ndownloadElement.click\u003cspan class=\"hljs-literal\"\u003e()\u003c/span\u003e;\ndocument.body.remove\u003cspan class=\"hljs-constructor\"\u003eChild(\u003cspan class=\"hljs-params\"\u003edownloadElement\u003c/span\u003e)\u003c/span\u003e;\nwindow.\u003cspan class=\"hljs-module-access\"\u003e\u003cspan class=\"hljs-module\"\u003e\u003cspan class=\"hljs-identifier\"\u003eURL\u003c/span\u003e.\u003c/span\u003e\u003c/span\u003erevoke\u003cspan class=\"hljs-constructor\"\u003eObjectURL(\u003cspan class=\"hljs-params\"\u003ehref\u003c/span\u003e)\u003c/span\u003e;   \n\u003c/code\u003e\u003c/pre\u003e\n\u003c/body\u003e\u003c/html\u003e\n  "])</script><script>self.__next_f.push([1,"c:[\"$\",\"div\",null,{\"className\":\"article_pageBody__Bryg4\",\"children\":[[\"$\",\"$Le\",null,{\"menuItemList\":[{\"id\":0,\"label\":\"首页\",\"href\":\"/\",\"icon\":\"/icons/home_gray.svg\",\"iconSelected\":\"/icons/home_black.svg\"},{\"id\":1,\"label\":\"文章\",\"href\":\"/articles/all/1\",\"icon\":\"/icons/article_gray.svg\",\"iconSelected\":\"/icons/article_black.svg\"},{\"id\":3,\"label\":\"关于\",\"href\":\"/about\",\"icon\":\"/icons/about_gray.svg\",\"iconSelected\":\"/icons/about_black.svg\"},{\"id\":4,\"label\":\"搜索\",\"href\":\"/search\",\"icon\":\"/icons/search_gray.svg\",\"iconSelected\":\"/icons/search_black.svg\"}],\"currentSelectedLabel\":\"文章\"}],[\"$\",\"div\",null,{\"className\":\"article_pageBodyMain___x_AF\",\"children\":[[\"$\",\"$Lf\",null,{}],[\"$\",\"div\",null,{\"className\":\"article_articleContainer__uRwUh scrollContent\",\"children\":[[\"$\",\"div\",null,{\"className\":\"article_articleBody__0coIY scrollContent\",\"children\":[[\"$\",\"h1\",null,{\"style\":{\"marginBottom\":\"0.1rem\",\"marginTop\":\"0.2rem\"},\"children\":\"Vue使用axios下载文件的方法\"}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"tags_tags__qM_Ja\",\"children\":[[\"$\",\"p\",null,{\"className\":\"tags_label__Rg6b2\",\"children\":\"分类\"}],[[\"$\",\"$L10\",\"0\",{\"href\":\"/articles/新知笔记/1\",\"children\":[\"$\",\"p\",\"0\",{\"className\":\"tags_tag__HZYxk tags_tagLink__gnw9V\",\"children\":\"新知笔记\"}]}],[\"$\",\"$L10\",\"1\",{\"href\":\"/articles/前端学习/1\",\"children\":[\"$\",\"p\",\"1\",{\"className\":\"tags_tag__HZYxk tags_tagLink__gnw9V\",\"children\":\"前端学习\"}]}]],false]}],[\"$\",\"div\",null,{\"className\":\"tags_tags__qM_Ja\",\"children\":[[\"$\",\"p\",null,{\"className\":\"tags_label__Rg6b2\",\"children\":\"标签\"}],\"$undefined\",[[\"$\",\"p\",\"0\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"vue\"}],[\"$\",\"p\",\"1\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"前端\"}],[\"$\",\"p\",\"2\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"html\"}],[\"$\",\"p\",\"3\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"css\"}],[\"$\",\"p\",\"4\",{\"className\":\"tags_tag__HZYxk \",\"children\":\"javascript\"}]]]}],[\"$\",\"$L11\",null,{\"path\":\"Vue%E4%BD%BF%E7%94%A8axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95\",\"serverURL\":\"https://remark.timeshike.com/\"}]]}],[\"$\",\"article\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"$12\"}}],[\"$\",\"$L13\",null,{}],[\"$\",\"$L14\",null,{\"path\":\"Vue%E4%BD%BF%E7%94%A8axios%E4%B8%8B%E8%BD%BD%E6%96%87%E4%BB%B6%E7%9A%84%E6%96%B9%E6%B3%95\",\"serverURL\":\"https://remark.timeshike.com/\",\"lang\":\"zh-CN\"}],[\"$\",\"div\",null,{\"className\":\"bottomBar_bottomBar__uHU1W\",\"children\":[\"$\",\"div\",null,{\"className\":\"bottomBar_text__iz3cM\",\"children\":[\"Powerd by\",[\"$\",\"a\",null,{\"href\":\"https://github.com/hixyl/YlBlog\",\"target\":\"_blank\",\"children\":\" YlBlog(玉龙博客)\"}]]}]}]]}],[\"$\",\"$L15\",null,{}]]}]]}],[\"$\",\"$L16\",null,{}]]}]\n"])</script><script>self.__next_f.push([1,"7:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Vue使用axios下载文件的方法 - 流年石刻\"}],[\"$\",\"meta\",\"2\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"3\",{\"name\":\"next-size-adjust\"}]]\n"])</script></body></html>